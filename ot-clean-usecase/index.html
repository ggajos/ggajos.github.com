<!DOCTYPE html>
<html lang="en-US">
    <head itemscope itemtype="http://schema.org/WebPage">
        <base href="http://ggajos.com/ot-clean-usecase"/>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="description" content="If you are looking for interesting articles from IT space, a fresh perspective on IT business, software quality or interesting tips in a day to day work, this blog might be interesting to you. Today, ...">
        <meta name="keywords" content="ot-clean use case, ot-clean example, ot-clean guide, ot-clean help, ot-clean info" />
        <link rel="canonical" href="http://ggajos.com/ot-clean-usecase" />
        <link rel="alternate" type="application/rss+xml" title="RSS for ggajos.com" href="http://ggajos.com/rss.xml"/>
        <title>ot-clean, Complete use case</title>
        <!--twitter -->
        <meta name="twitter:site" content="@ggajos"/>
        <meta name="twitter:creator" content="@ggajos"/>
        <meta name="twitter:url" content="http://ggajos.com/ot-clean-usecase"/>
        <!-- facebook -->
        <meta property="article:author" content="https://www.facebook.com/grzegorz.gajos"/>
        <meta property="og:url" content="http://ggajos.com/ot-clean-usecase"/>
        <meta property="og:site_name" content="ggajos"/>
        <meta property="og:title" content="ot-clean, Complete use case"/>
        <meta property="og:description" content="If you are looking for interesting articles from IT space, a fresh perspective on IT business, software quality or interesting tips in a day to day work, this blog might be interesting to you. Today, ..."/>
        <meta property="og:type" content="article" />
        <meta property="og:locale" content="en_US" />
        <!-- itemprop -->
        <meta itemprop="name" content="ot-clean, Complete use case" />
        <meta itemprop="author" content="Grzegorz Gajos" />
        <meta itemprop="breadcrumb" content="http://ggajos.com" />
        <meta itemprop="keywords" content="ot-clean use case, ot-clean example, ot-clean guide, ot-clean help, ot-clean info" />
        <meta itemprop="description" content="If you are looking for interesting articles from IT space, a fresh perspective on IT business, software quality or interesting tips in a day to day work, this blog might be interesting to you. Today, ..." />
		<!-- google -->
		<meta name="google-site-verification" content="Ls52KLW0k11NkXeBx89rhcLnXOfGbaDlNSCkGawXcM4" />
        <!-- script/css -->
        <link rel="stylesheet" type="text/css" href="/assets/css/main.css?">
        <script async src="/assets/js/modernizr.js"></script>
        <!--[if lt IE 9]> <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script> <![endif]-->
        <!--[if lt IE 9]> <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script> <![endif]-->
    </head>
    <body class="theme-base-01">
        <header class="main-header">
            <div class="wc-container">
                <h2><a href="/">Java Developer</a></h2>
                <ul>
	<li>
		by <a href="http://ggajos.com/about">Grzegorz Gajos</a> &middot;
	</li>
	<li>
		check <a href="http://ggajos.com/rss.xml">rss feed</a> &middot;
	</li>
	<li>
		see <a href="http://ggajos.com/blog">all posts</a> &middot;
	</li>
	<li>
		or <a href="http://ggajos.com/">home page</a>
	</li>
</ul>
<ul>
	<li>
		I won’t tell you that
		<a href="http://opentangerine.com" rel="nofollow">Open Tangerine</a>
		team is among the most ingenious and professional engineers.
	</li>
</ul>
            </div>
        </header>
        <div class="page-content wc-container">

	<div class="post">
		<h1>ot-clean, Complete use case</h1>
		<p class="post-meta">
            
                <span class="categories">
                    ot-clean, use, and case
                </span> |
            
            <span class="post-date">
                Apr 8, 2016
            </span> | Interesting? Share on
			<a href="https://twitter.com/share?url=http://ggajos.com/ot-clean-usecase&amp;text=ot-clean, Complete use case by @ggajos"
   title="Share on Twitter" class="share" rel="nofollow">Twitter</a>,
<a href="http://www.facebook.com/sharer/sharer.php?u=http://ggajos.com/ot-clean-usecase"
   title="Share on Facebook" class="share" rel="nofollow">Facebook</a>,
<a href="https://plus.google.com/share?url=http://ggajos.com/ot-clean-usecase"
   title="Share on Google+" class="share" rel="nofollow">Google+</a>,
<a href="https://www.linkedin.com/cws/share?url=http://ggajos.com/ot-clean-usecase"
   title="Share on LinkedIn" class="share" rel="nofollow">LinkedIn</a>
		</p>
		<p>I would like to describe a very simple yet complete cleaning use case. The only prerequisite here is JDK or JRE 1.8+. Imagine that you have your working directory in <code>/mnt/work</code>. Applications are producing logs or compilation files that you would like to remove executing a single command.</p>

<h3 id="step-by-step-guide">Step by step guide</h3>

<ul>
  <li><a href="https://github.com/ggajos/ot-clean/releases/" rel="nofollow">Download the latest ot-clean release</a>.</li>
  <li>Unpack it to <code>/mnt/work/clean</code> directory (for example).</li>
  <li>Go to <code>/mnt/work/clean</code>.</li>
  <li>Create <code>.clean.yml</code> with the following content:</li>
</ul>

<div class="highlight"><pre><code class="language-yml" data-lang="yml"><span class="s">deletes</span><span class="pi">:</span>
 <span class="pi">-</span> <span class="err">**</span><span class="s">/*.log</span>
<span class="s">dirs</span><span class="pi">:</span>
 <span class="pi">-</span> <span class="s">/mnt/work</span>
 <span class="pi">-</span> <span class="s">/home/yourusername</span></code></pre></div>

<ul>
  <li>Execute <code>java -jar clean.jar</code>.</li>
  <li>Check list of files that are going to be removed.</li>
  <li>Execute <code>java -jar clean.jar -d</code> in order to remove them.</li>
</ul>

<p>Now every time you want to perform cleanup. Just go to <code>/mnt/work/clean</code> and type:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">java -jar clean.jar -d</code></pre></div>

<p>Feel free to put it in some more convenient place if you like.</p>

<h3 id="what-actually-happen-here">What actually happen here?</h3>

<p>The ot-clean is scanning your directories and is looking for certain project patterns. If application recognizes that it is maven project for example, then it tries to remove “target” directory. If the application finds <code>.clean.yml</code> then is trying to remove all files listed in <code>deletes</code> section. If there is <code>dirs</code> section then is scanning also specified directories.</p>

<h3 id="example-ot-clean-output">Example ot-clean output</h3>

<h4 id="finds-maven-project-automatically">Finds maven project automatically</h4>

<div class="highlight"><pre><code class="language-yml" data-lang="yml"><span class="pi">[</span><span class="nv">Maven</span><span class="pi">]:</span> <span class="s">D:\work\playground</span>
 <span class="s">- Found directory</span><span class="pi">:</span> <span class="s">D:\work\playground\target [2 KB]</span></code></pre></div>

<h4 id="finds-directories-specified-in-cleanyml-file">Finds directories specified in .clean.yml file</h4>

<div class="highlight"><pre><code class="language-yml" data-lang="yml"><span class="pi">[</span><span class="nv">.clean.yml</span><span class="pi">]:</span> <span class="s">D:\work\ot-miho\m</span>
 <span class="s">- Found directory</span><span class="pi">:</span> <span class="s">D:\work\ot-miho\m\m-app\target [221 KB]</span>
 <span class="s">- Found directory</span><span class="pi">:</span> <span class="s">D:\work\ot-miho\m\m-web\logs [131 bytes]</span>
 <span class="s">- Found directory</span><span class="pi">:</span> <span class="s">D:\work\ot-miho\m\m-web\project\project\target [12 KB]</span>
 <span class="s">- Found directory</span><span class="pi">:</span> <span class="s">D:\work\ot-miho\m\m-web\project\target [15 MB]</span>
 <span class="s">- Found directory</span><span class="pi">:</span> <span class="s">D:\work\ot-miho\m\m-web\target [7 MB]</span></code></pre></div>

<h4 id="example-summary">Example summary</h4>

<div class="highlight"><pre><code class="language-yml" data-lang="yml"><span class="s">Summary</span><span class="pi">:</span> <span class="s">Found 72 element(s) [293 MB]</span></code></pre></div>

<h3 id="why-bother">Why bother?</h3>

<p>The idea is similar to <code>.gitignore</code>. Therefore, if application finds <code>.clean.yml</code> file somewhere during scanning it tries to parse it. You can keep custom cleaning files inside your projects. This way you can even share it via code repository if you like.</p>


<blockquote>
    <h4>The ot-clean series</h4>
    <p>
        This blog post is one of the series about the <a
        href="https://github.com/ggajos/ot-clean" rel="nofollow">ot-clean</a>.
        Simple open source tool that maintains your projects directories cleaned
        from all the garbage. Feel free to look at the <a href="https://github.com/ggajos/ot-clean" rel="nofollow">source
        code</a>
        or <a href="https://github.com/ggajos/ot-clean" rel="nofollow">readme page</a> for more
        information.
        You can also <a href="https://github.com/ggajos/ot-clean/pulls" rel="nofollow">submit
        pull request</a> or
        <a href="https://github.com/ggajos/ot-clean/issues" rel="nofollow">post suggestion</a>.
        This text participates in <a href="http://dajsiepoznac.pl/" rel="nofollow">open source
        blogging competition</a>.
    </p>

    <h4>Project status</h4>
    <p class="post-badges">
        <a href="https://travis-ci.org/ggajos/ot-clean" rel="nofollow">
            <img src="https://travis-ci.org/ggajos/ot-clean.svg?branch=master" alt="Build Status">
        </a>
        <a href="https://coveralls.io/github/ggajos/ot-clean?branch=master" rel="nofollow">
            <img src="https://coveralls.io/repos/github/ggajos/ot-clean/badge.svg?branch=master"/>
        </a>
    </p>

    <h4>All posts from the ot-clean series</h4>
    <ul class="post-list">
    
        
        <li>
            <span>06 May 2016 &raquo;</span>
            <a href="http://ggajos.com/ot-clean-final-version">ot-clean, Final version</a>
        </li>
        
    
        
        <li>
            <span>04 May 2016 &raquo;</span>
            <a href="http://ggajos.com/ot-clean-tests-refactoring">ot-clean, Tests refactoring</a>
        </li>
        
    
        
        <li>
            <span>29 Apr 2016 &raquo;</span>
            <a href="http://ggajos.com/ot-clean-refactoring-and-dsl-4">ot-clean, Refactoring and cleaning DSL (4/4)</a>
        </li>
        
    
        
        <li>
            <span>26 Apr 2016 &raquo;</span>
            <a href="http://ggajos.com/ot-clean-refactoring-and-dsl-3">ot-clean, Refactoring and cleaning DSL (3/4)</a>
        </li>
        
    
        
        <li>
            <span>22 Apr 2016 &raquo;</span>
            <a href="http://ggajos.com/ot-clean-refactoring-and-dsl-2">ot-clean, Refactoring and cleaning DSL (2/4)</a>
        </li>
        
    
        
        <li>
            <span>19 Apr 2016 &raquo;</span>
            <a href="http://ggajos.com/ot-clean-refactoring-and-dsl-1">ot-clean, Refactoring and cleaning DSL (1/4)</a>
        </li>
        
    
        
        <li>
            <span>15 Apr 2016 &raquo;</span>
            <a href="http://ggajos.com/ot-clean-matcherassert">ot-clean, MatcherAssert vs Assert, which assertThat?</a>
        </li>
        
    
        
        <li>
            <span>12 Apr 2016 &raquo;</span>
            <a href="http://ggajos.com/ot-clean-grails-playframework-support">ot-clean, Grails 2.x/3.x, PlayFramework 2.x support</a>
        </li>
        
    
        
        <li>
            <span>08 Apr 2016 &raquo;</span>
            <a href="http://ggajos.com/ot-clean-usecase">ot-clean, Complete use case</a>
        </li>
        
    
        
        <li>
            <span>05 Apr 2016 &raquo;</span>
            <a href="http://ggajos.com/ot-clean-scan-dirs">ot-clean, Scan multiple unrelated directories</a>
        </li>
        
    
        
        <li>
            <span>01 Apr 2016 &raquo;</span>
            <a href="http://ggajos.com/ot-clean-coveralls">ot-clean, Coveralls integration and code cleanup</a>
        </li>
        
    
        
        <li>
            <span>29 Mar 2016 &raquo;</span>
            <a href="http://ggajos.com/ot-clean-versioning">ot-clean, How to access maven artifact version at runtime?</a>
        </li>
        
    
        
        <li>
            <span>25 Mar 2016 &raquo;</span>
            <a href="http://ggajos.com/ot-clean-wildcards">ot-clean, Wildcards</a>
        </li>
        
    
        
        <li>
            <span>21 Mar 2016 &raquo;</span>
            <a href="http://ggajos.com/ot-clean-zero-maintenance-overhead">ot-clean, Zero maintenance overhead</a>
        </li>
        
    
        
        <li>
            <span>18 Mar 2016 &raquo;</span>
            <a href="http://ggajos.com/ot-clean-functional-config-preprocessing">ot-clean, Functional config file preprocessing</a>
        </li>
        
    
        
        <li>
            <span>15 Mar 2016 &raquo;</span>
            <a href="http://ggajos.com/ot-clean-cascade-and-arguments">ot-clean, Cascade and arguments</a>
        </li>
        
    
        
        <li>
            <span>11 Mar 2016 &raquo;</span>
            <a href="http://ggajos.com/ot-clean-yaml-format">ot-clean, Handle any project using YAML format</a>
        </li>
        
    
        
        <li>
            <span>08 Mar 2016 &raquo;</span>
            <a href="http://ggajos.com/ot-clean-quickstart">ot-clean, Quickstart</a>
        </li>
        
    
        
        <li>
            <span>04 Mar 2016 &raquo;</span>
            <a href="http://ggajos.com/ot-clean-yaml-alias-nodes">ot-clean, YAML node alias surprise</a>
        </li>
        
    
        
        <li>
            <span>01 Mar 2016 &raquo;</span>
            <a href="http://ggajos.com/ot-clean-cleanup-cleanall">ot-clean, Single clean to clean them all!</a>
        </li>
        
    
    </ul>
</blockquote>

		<hr/>
		<p>
			Like it? Share it on
			<a href="https://twitter.com/share?url=http://ggajos.com/ot-clean-usecase&amp;text=ot-clean, Complete use case by @ggajos"
   title="Share on Twitter" class="share" rel="nofollow">Twitter</a>,
<a href="http://www.facebook.com/sharer/sharer.php?u=http://ggajos.com/ot-clean-usecase"
   title="Share on Facebook" class="share" rel="nofollow">Facebook</a>,
<a href="https://plus.google.com/share?url=http://ggajos.com/ot-clean-usecase"
   title="Share on Google+" class="share" rel="nofollow">Google+</a>,
<a href="https://www.linkedin.com/cws/share?url=http://ggajos.com/ot-clean-usecase"
   title="Share on LinkedIn" class="share" rel="nofollow">LinkedIn</a>
		</p>
	</div>

	
	<div class="related">
		<h4>Related Posts</h4>
		<ul class="posts">
		    
		    <li>
			  <span>27 Sep 2016 &raquo;</span>
			  <a href="http://ggajos.com/how-hibernate-ruined-my-career">How Hibernate Almost Ruined My Career</a>
		    </li>
		    
		    <li>
			  <span>19 Sep 2016 &raquo;</span>
			  <a href="http://ggajos.com/sjug-why-hibernate">Silesia Java User Group, Seriously. Why Hibernate?</a>
		    </li>
		    
		    <li>
			  <span>14 May 2016 &raquo;</span>
			  <a href="http://ggajos.com/sjug-static-code-analysis">Silesia Java User Group, Static code analysis</a>
		    </li>
		    
		    <li>
			  <span>06 May 2016 &raquo;</span>
			  <a href="http://ggajos.com/ot-clean-final-version">ot-clean, Final version</a>
		    </li>
		    
		    <li>
			  <span>04 May 2016 &raquo;</span>
			  <a href="http://ggajos.com/ot-clean-tests-refactoring">ot-clean, Tests refactoring</a>
		    </li>
		    
		</ul>
	</div>
	

	<h4>About the author</h4>
<p>
    <a href="http://ggajos.com/about">Grzegorz Gajos</a>,
    Software Architect
    with international consulting and programming background. Co-founder of Open Tangerine
    Software House. Quality evangelist. An experienced entrepreneur, out of the box thinker and problem solver.
</p>

	<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'ggajos';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

	<div class="post-footer">
		<div class="column-1">
			
				<a href="http://ggajos.com/ot-clean-scan-dirs"><< Older</a>
			
		</div>
		<div class="column-2"><a href="http://ggajos.com/ ">Home</a></div>
		<div class="column-3">
			
				<a href="http://ggajos.com/ot-clean-grails-playframework-support">Newer >></a>
			
		</div>
	</div>
</div>
 

        <footer>
        </footer>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <!-- Site js -->
        <script src="/assets/js/all.js"></script>
        <!-- Google analytics  -->
        <script type="text/javascript">

    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-30132359-4', 'auto');
    ga('send', 'pageview');

</script>
    </body>
</html>
