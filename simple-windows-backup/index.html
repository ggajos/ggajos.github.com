<!DOCTYPE html>
<html lang="en-US">
    <head itemscope itemtype="http://schema.org/WebPage">
        <base href="http://ggajos.com/simple-windows-backup"/>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="description" content="There are three kinds of people. Ones that backup their data before first data crash, after or never.">
        <meta name="keywords" content="windows backup approach, portable backup setup, reliable photo storage, robocopy simple usage, valuable data backup, developer system maintenance" />
        <link rel="canonical" href="http://ggajos.com/simple-windows-backup" />
        <link rel="alternate" type="application/rss+xml" title="RSS for ggajos.com" href="http://ggajos.com/rss.xml"/>
        <title>Windows backup solution that you already have</title>
        <!--twitter -->
        <meta name="twitter:site" content="@ggajos"/>
        <meta name="twitter:creator" content="@ggajos"/>
        <meta name="twitter:url" content="http://ggajos.com/simple-windows-backup"/>
        <!-- facebook -->
        <meta property="article:author" content="https://www.facebook.com/grzegorz.gajos"/>
        <meta property="og:url" content="http://ggajos.com/simple-windows-backup"/>
        <meta property="og:site_name" content="ggajos"/>
        <meta property="og:title" content="Windows backup solution that you already have"/>
        <meta property="og:description" content="There are three kinds of people. Ones that backup their data before first data crash, after or never."/>
        <meta property="og:type" content="article" />
        <meta property="og:locale" content="en_US" />
        <!-- itemprop -->
        <meta itemprop="name" content="Windows backup solution that you already have" />
        <meta itemprop="author" content="Grzegorz Gajos" />
        <meta itemprop="breadcrumb" content="http://ggajos.com" />
        <meta itemprop="keywords" content="windows backup approach, portable backup setup, reliable photo storage, robocopy simple usage, valuable data backup, developer system maintenance" />
        <meta itemprop="description" content="There are three kinds of people. Ones that backup their data before first data crash, after or never." />
		<!-- google -->
		<meta name="google-site-verification" content="Ls52KLW0k11NkXeBx89rhcLnXOfGbaDlNSCkGawXcM4" />
        <!-- script/css -->
        <link rel="stylesheet" type="text/css" href="/assets/css/main.css?">
        <script async src="/assets/js/modernizr.js"></script>
        <!--[if lt IE 9]> <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script> <![endif]-->
        <!--[if lt IE 9]> <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script> <![endif]-->
    </head>
    <body class="theme-base-01">
        <header class="main-header">
            <div class="wc-container">
                <h2><a href="/">Java Developer</a></h2>
                <ul>
	<li>
		by <a href="http://ggajos.com/about">Grzegorz Gajos</a> &middot;
	</li>
	<li>
		check <a href="http://ggajos.com/rss.xml">rss feed</a> &middot;
	</li>
	<li>
		see <a href="http://ggajos.com/blog">all posts</a> &middot;
	</li>
	<li>
		or <a href="http://ggajos.com/">home page</a>
	</li>
</ul>
<ul>
	<li>
		I won’t tell you that
		<a href="http://opentangerine.com" rel="nofollow">Open Tangerine</a>
		team is among the most ingenious and professional engineers.
	</li>
</ul>
            </div>
        </header>
        <div class="page-content wc-container">

	<div class="post">
		<h1>Windows backup solution that you already have</h1>
		<p class="post-meta">
            
                <span class="categories">
                    windows, backup, and robocopy
                </span> |
            
            <span class="post-date">
                Dec 18, 2015
            </span> | Interesting? Share on
			<a href="https://twitter.com/share?url=http://ggajos.com/simple-windows-backup&amp;text=Windows backup solution that you already have by @ggajos"
   title="Share on Twitter" class="share" rel="nofollow">Twitter</a>,
<a href="http://www.facebook.com/sharer/sharer.php?u=http://ggajos.com/simple-windows-backup"
   title="Share on Facebook" class="share" rel="nofollow">Facebook</a>,
<a href="https://plus.google.com/share?url=http://ggajos.com/simple-windows-backup"
   title="Share on Google+" class="share" rel="nofollow">Google+</a>,
<a href="https://www.linkedin.com/cws/share?url=http://ggajos.com/simple-windows-backup"
   title="Share on LinkedIn" class="share" rel="nofollow">LinkedIn</a>
		</p>
		<p>There are three kinds of people. Ones that backup their data before first data crash, after or never. In which group you are?</p>

<h2 id="why-you-need-to-backup">Why you need to backup?</h2>

<p>If your hard drive is corrupted then you need to pick another one and set up the entire environment from scratch. When you delete something permanently, it would be good to get it back easily. Heavy virus infection is also a good reason cleanup system, move few days back in time but have all elements operational without the risk of losing more.</p>

<h2 id="what-you-need-to-backup">What you need to backup?</h2>

<p>Entire <em>program files</em> or system directory is something that do not need the backup for sure. Most applications need full installation procedure anyway. When we narrow down what kind of data we want to secure it is easier to pick right back up option. What I backup:</p>

<ul>
  <li>documents - self-explanatory,</li>
  <li>photos - yes, if you want to keep your photos for longer than few years you <em>have to</em> backup,</li>
  <li>google drive - it is a bit paranoid,</li>
  <li>lib - this is my m solution, you can <a href="/environment-variables-management">read more here</a>,</li>
  <li>utils - portable programs or utilities,</li>
  <li>work - all work related.</li>
</ul>

<h2 id="how-you-are-going-to-backup-your-files">How you are going to backup your files?</h2>

<p>Full disk image clone is problematic and you will not be able to easily look for something in that backup. I remember my friend did a full disk image and burn it on 12 DVDs. Recovering procedure was so time-consuming that he decided is not worth recovering. Some backups are not recoverable at all because software expired or image has been corrupted during creation. I thought I need very specialized software or RAID 0 to have reliable and easy to use backup solution. Thankfully, I was wrong :).</p>

<h2 id="do-the-robot">Do the robot</h2>

<p>Ok, so where is the silver bullet? Since Windows 7 there is built-in command line tool called <a href="https://technet.microsoft.com/en-us/library/cc733145.aspx" rel="nofollow"><em>robocopy</em></a>. It is doing what needs to be done. It is part of the a system so there is no UI overhead (which I found problematic in some solutions). I created simple <em>bat</em> file to do all the work for me. Once a week I’m plug in HDD drive and execute the backup operation. Simple.</p>

<div class="highlight"><pre><code class="language-batch" data-lang="batch">rem Robocopy parameters
rem /MIR - Mirror mode; copies subdirectories; deletes destination files and directories that no longer exist in the source.
rem /R:1 - Fail after one retry.
rem /V - Verbose mode.
set args=/MIR /R:1 /V

rem Target backup drive
set backup=O:\backup

rem Mirrors configuration
rem Here you can configure a list of directories
robocopy D:\arch %backup%\ssd %args%
robocopy E:\arch %backup%\hdd %args%
robocopy W:\work %backup%\work %args%</code></pre></div>

<p>Be aware that robocopy might require admin privileges on your computer. To ensure and fail fast when executed without privileges. I am using guard at the beginning of file:</p>

<div class="highlight"><pre><code class="language-batch" data-lang="batch">rem DETECT ADMIN PRIVILEGES, IF NOT QUIT
rem source: http://stackoverflow.com/questions/4051883/batch-script-how-to-check-for-admin-rights
NET SESSION &gt;nul 2&gt;&amp;1
IF %ERRORLEVEL% EQU 0 (
    echo Administrator privileges Detected! 
) ELSE (
    echo ######## ########  ########   #######  ########  
    echo ##       ##     ## ##     ## ##     ## ##     ## 
    echo ##       ##     ## ##     ## ##     ## ##     ## 
    echo ######   ########  ########  ##     ## ########  
    echo ##       ##   ##   ##   ##   ##     ## ##   ##   
    echo ##       ##    ##  ##    ##  ##     ## ##    ##  
    echo ######## ##     ## ##     ##  #######  ##     ## 
    echo.
    echo.
    echo ####### ERROR: ADMINISTRATOR PRIVILEGES REQUIRED #########
    echo This script must be run as administrator to work properly!  
    echo ##########################################################
    echo.
    PAUSE
    EXIT /B 1
)</code></pre></div>

<p>Enjoy. Have better alternative? Feel free to comment!</p>

		<hr/>
		<p>
			Like it? Share it on
			<a href="https://twitter.com/share?url=http://ggajos.com/simple-windows-backup&amp;text=Windows backup solution that you already have by @ggajos"
   title="Share on Twitter" class="share" rel="nofollow">Twitter</a>,
<a href="http://www.facebook.com/sharer/sharer.php?u=http://ggajos.com/simple-windows-backup"
   title="Share on Facebook" class="share" rel="nofollow">Facebook</a>,
<a href="https://plus.google.com/share?url=http://ggajos.com/simple-windows-backup"
   title="Share on Google+" class="share" rel="nofollow">Google+</a>,
<a href="https://www.linkedin.com/cws/share?url=http://ggajos.com/simple-windows-backup"
   title="Share on LinkedIn" class="share" rel="nofollow">LinkedIn</a>
		</p>
	</div>

	
	<div class="related">
		<h4>Related Posts</h4>
		<ul class="posts">
		    
		    <li>
			  <span>27 Sep 2016 &raquo;</span>
			  <a href="http://ggajos.com/how-hibernate-ruined-my-career">How Hibernate Almost Ruined My Career</a>
		    </li>
		    
		    <li>
			  <span>19 Sep 2016 &raquo;</span>
			  <a href="http://ggajos.com/sjug-why-hibernate">Silesia Java User Group, Seriously. Why Hibernate?</a>
		    </li>
		    
		    <li>
			  <span>14 May 2016 &raquo;</span>
			  <a href="http://ggajos.com/sjug-static-code-analysis">Silesia Java User Group, Static code analysis</a>
		    </li>
		    
		    <li>
			  <span>06 May 2016 &raquo;</span>
			  <a href="http://ggajos.com/ot-clean-final-version">ot-clean, Final version</a>
		    </li>
		    
		    <li>
			  <span>04 May 2016 &raquo;</span>
			  <a href="http://ggajos.com/ot-clean-tests-refactoring">ot-clean, Tests refactoring</a>
		    </li>
		    
		</ul>
	</div>
	

	<h4>About the author</h4>
<p>
    <a href="http://ggajos.com/about">Grzegorz Gajos</a>,
    Software Architect
    with international consulting and programming background. Co-founder of Open Tangerine
    Software House. Quality evangelist. An experienced entrepreneur, out of the box thinker and problem solver.
</p>

	<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'ggajos';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

	<div class="post-footer">
		<div class="column-1">
			
				<a href="http://ggajos.com/why-comments-in-code"><< Older</a>
			
		</div>
		<div class="column-2"><a href="http://ggajos.com/ ">Home</a></div>
		<div class="column-3">
			
				<a href="http://ggajos.com/ot-clean-cleanup-cleanall">Newer >></a>
			
		</div>
	</div>
</div>
 

        <footer>
        </footer>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <!-- Site js -->
        <script src="/assets/js/all.js"></script>
        <!-- Google analytics  -->
        <script type="text/javascript">

    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-30132359-4', 'auto');
    ga('send', 'pageview');

</script>
    </body>
</html>
