<!DOCTYPE html>
<html lang="en-US">
    <head itemscope itemtype="http://schema.org/WebPage">
        <base href="http://ggajos.com/why-comments-in-code"/>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="description" content="What is the right approach for code comments. Does it make sense to put them everywhere?">
        <meta name="keywords" content="java code comments, source value agile, agile manifesto comments, code comments value, comments best practices, quality of comments" />
        <link rel="canonical" href="http://ggajos.com/why-comments-in-code" />
        <link rel="alternate" type="application/rss+xml" title="RSS for ggajos.com" href="http://ggajos.com/rss.xml"/>
        <title>Code comments are priceless when placed on the precious ground.</title>
        <!--twitter -->
        <meta name="twitter:site" content="@ggajos"/>
        <meta name="twitter:creator" content="@ggajos"/>
        <meta name="twitter:url" content="http://ggajos.com/why-comments-in-code"/>
        <!-- facebook -->
        <meta property="article:author" content="https://www.facebook.com/grzegorz.gajos"/>
        <meta property="og:url" content="http://ggajos.com/why-comments-in-code"/>
        <meta property="og:site_name" content="ggajos"/>
        <meta property="og:title" content="Code comments are priceless when placed on the precious ground."/>
        <meta property="og:description" content="What is the right approach for code comments. Does it make sense to put them everywhere?"/>
        <meta property="og:type" content="article" />
        <meta property="og:locale" content="en_US" />
        <!-- itemprop -->
        <meta itemprop="name" content="Code comments are priceless when placed on the precious ground." />
        <meta itemprop="author" content="Grzegorz Gajos" />
        <meta itemprop="breadcrumb" content="http://ggajos.com" />
        <meta itemprop="keywords" content="java code comments, source value agile, agile manifesto comments, code comments value, comments best practices, quality of comments" />
        <meta itemprop="description" content="What is the right approach for code comments. Does it make sense to put them everywhere?" />
		<!-- google -->
		<meta name="google-site-verification" content="Ls52KLW0k11NkXeBx89rhcLnXOfGbaDlNSCkGawXcM4" />
        <!-- script/css -->
        <link rel="stylesheet" type="text/css" href="/assets/css/main.css?">
        <script async src="/assets/js/modernizr.js"></script>
        <!--[if lt IE 9]> <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script> <![endif]-->
        <!--[if lt IE 9]> <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script> <![endif]-->
    </head>
    <body class="theme-base-01">
        <header class="main-header">
            <div class="wc-container">
                <h2><a href="/">Java Developer</a></h2>
                <ul>
	<li>
		by <a href="http://ggajos.com/about">Grzegorz Gajos</a> &middot;
	</li>
	<li>
		check <a href="http://ggajos.com/rss.xml">rss feed</a> &middot;
	</li>
	<li>
		see <a href="http://ggajos.com/blog">all posts</a> &middot;
	</li>
	<li>
		or <a href="http://ggajos.com/">home page</a>
	</li>
</ul>
<ul>
	<li>
		I won’t tell you that
		<a href="http://opentangerine.com" rel="nofollow">Open Tangerine</a>
		team is among the most ingenious and professional engineers.
	</li>
</ul>
            </div>
        </header>
        <div class="page-content wc-container">

	<div class="post">
		<h1>Code comments are priceless when placed on the precious ground.</h1>
		<p class="post-meta">
            
                <span class="categories">
                    source, comments, and value
                </span> |
            
            <span class="post-date">
                Dec 1, 2015
            </span> | Interesting? Share on
			<a href="https://twitter.com/share?url=http://ggajos.com/why-comments-in-code&amp;text=Code comments are priceless when placed on the precious ground. by @ggajos"
   title="Share on Twitter" class="share" rel="nofollow">Twitter</a>,
<a href="http://www.facebook.com/sharer/sharer.php?u=http://ggajos.com/why-comments-in-code"
   title="Share on Facebook" class="share" rel="nofollow">Facebook</a>,
<a href="https://plus.google.com/share?url=http://ggajos.com/why-comments-in-code"
   title="Share on Google+" class="share" rel="nofollow">Google+</a>,
<a href="https://www.linkedin.com/cws/share?url=http://ggajos.com/why-comments-in-code"
   title="Share on LinkedIn" class="share" rel="nofollow">LinkedIn</a>
		</p>
		<p>Shall we write code comments at all? Should we force ourselves to write comments to every method/class/variable? How important comments are for the project? What is the value of comments for the project stakeholder?</p>

<h2 id="how-to-find-what-is-the-right-approach">How to find what is the right approach?</h2>

<p>Let’s say that we are creating commons library where the code will be reused in multiple projects. This is the place where many eyes will be looking at and many access variation will happen. This is a place where comments are priceless. Now let’s look at service class which is responsible for calculating 20% sales discount of Nike shoes for one specific retailer. We can implement this as self-explanatory code and there is no need for excessive comments. It’s actually better to document that using some automated tests. There is no silver bullet for commenting. It’s better to have them <em>more</em> than less.</p>

<h2 id="are-there-comments-with-no-value">Are there comments with no value?</h2>

<h4 id="thank-you-mr-obvious">Thank you, Mr. Obvious.</h4>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="cm">/* A width. */</span>
<span class="kt">int</span> <span class="n">width</span><span class="o">;</span></code></pre></div>

<p>If you think that this comment has no value in the project, you are wrong! This type of comment might be copied over into a different place or become outdated.</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="cm">/* A width. */</span>
<span class="kt">int</span> <span class="n">index</span><span class="o">;</span></code></pre></div>

<p>Therefore, it might lower quality, produce additional confusion and consume some time. By typing just a few more letters we can get it right: </p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="cm">/* Width of screen (in pixels). */</span>
<span class="kt">int</span> <span class="n">width</span><span class="o">;</span></code></pre></div>

<h4 id="outdated-comments">Outdated comments.</h4>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Here we are calculating final price, you better be sure that this is going</span>
<span class="c1">// to work without exception, otherwise we're going to fail badly and loose</span>
<span class="c1">// our customer!</span>
<span class="kt">double</span> <span class="n">finalPrice</span> <span class="o">=</span> <span class="mf">0.0</span></code></pre></div>

<p>Somebody mess up with price calculation formula and didn’t remove a comment because it might be valuable. If you need to remove something, remove it. Plus, there is revision control system to track history. Code review is the right moment to get rid of it early.</p>

<h4 id="disabled-lines-of-code">Disabled lines of code.</h4>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Here we are calculating final price, you better be sure that this is going</span>
<span class="c1">// to work without exception, otherwise we're going to fail badly and loose</span>
<span class="c1">// our customer!</span>
<span class="kt">double</span> <span class="n">finalPrice</span> <span class="o">=</span> <span class="n">sumup</span><span class="o">()</span> <span class="o">+</span> <span class="n">discounts</span><span class="o">();</span> <span class="c1">// + promotions() + shipping()</span></code></pre></div>

<p>Somebody commented some of the calculations. If we have a luck you might find reason in revision history but this is the worst type of comments. The source code is not a place for leaving the history of requirements.</p>

<h2 id="what-comment-is-exceptional-and-precious">What comment is exceptional and precious?</h2>

<h4 id="expected-results-or-assertions">Expected results or assertions.</h4>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="cm">/**
 * &lt;pre&gt;
 * empty(null)      = false
 * empty("")        = false
 * empty(" ")       = true
 * empty("bob")     = true
 * empty("  bob  ") = true
 * &lt;/pre&gt;
 */</span></code></pre></div>

<p>This approach is widely used by <a href="http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#splitByCharacterTypeCamelCase(java.lang.String)" rel="nofollow">Apache libraries</a>. It is amazingly simple to understand methods behavior and corner cases become obvious.</p>

<h4 id="doomed-areas">Doomed areas.</h4>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Here we are calculating final price, you better be sure that this is going</span>
<span class="c1">// to work without exception, otherwise we're going to fail badly and loose</span>
<span class="c1">// our customer!</span>
<span class="kt">double</span> <span class="n">finalPrice</span> <span class="o">=</span> <span class="n">sumup</span><span class="o">()</span> <span class="o">+</span> <span class="n">discounts</span><span class="o">()</span> <span class="o">+</span> <span class="n">promotions</span><span class="o">()</span> <span class="o">+</span> <span class="n">shipping</span><span class="o">();</span></code></pre></div>

<p>This comment acts as a warning for the developer. Better be sure what you are doing and carefully test it out before submitting a mess here. This comment indicates major design flaw in the code, but it makes it visible. It means that somebody spent some time to figure this out. Maybe he is an author of this mess. No matter how ugly described code is, that kind of comments might save others time. </p>

<h2 id="value-produced-by-the-comment">Value produced by the comment.</h2>

<p>There are good or bad comments but most important is the benefit or value for the project that they are producing. The right approach is going to save your and others time. <a href="http://stackoverflow.com/questions/184618/what-is-the-best-comment-in-source-code-you-have-ever-encountered particularly" rel="nofollow">What is the best comment in source code you have ever encountered?</a> :).</p>

		<hr/>
		<p>
			Like it? Share it on
			<a href="https://twitter.com/share?url=http://ggajos.com/why-comments-in-code&amp;text=Code comments are priceless when placed on the precious ground. by @ggajos"
   title="Share on Twitter" class="share" rel="nofollow">Twitter</a>,
<a href="http://www.facebook.com/sharer/sharer.php?u=http://ggajos.com/why-comments-in-code"
   title="Share on Facebook" class="share" rel="nofollow">Facebook</a>,
<a href="https://plus.google.com/share?url=http://ggajos.com/why-comments-in-code"
   title="Share on Google+" class="share" rel="nofollow">Google+</a>,
<a href="https://www.linkedin.com/cws/share?url=http://ggajos.com/why-comments-in-code"
   title="Share on LinkedIn" class="share" rel="nofollow">LinkedIn</a>
		</p>
	</div>

	
	<div class="related">
		<h4>Related Posts</h4>
		<ul class="posts">
		    
		    <li>
			  <span>27 Sep 2016 &raquo;</span>
			  <a href="http://ggajos.com/how-hibernate-ruined-my-career">How Hibernate Almost Ruined My Career</a>
		    </li>
		    
		    <li>
			  <span>19 Sep 2016 &raquo;</span>
			  <a href="http://ggajos.com/sjug-why-hibernate">Silesia Java User Group, Seriously. Why Hibernate?</a>
		    </li>
		    
		    <li>
			  <span>14 May 2016 &raquo;</span>
			  <a href="http://ggajos.com/sjug-static-code-analysis">Silesia Java User Group, Static code analysis</a>
		    </li>
		    
		    <li>
			  <span>06 May 2016 &raquo;</span>
			  <a href="http://ggajos.com/ot-clean-final-version">ot-clean, Final version</a>
		    </li>
		    
		    <li>
			  <span>04 May 2016 &raquo;</span>
			  <a href="http://ggajos.com/ot-clean-tests-refactoring">ot-clean, Tests refactoring</a>
		    </li>
		    
		</ul>
	</div>
	

	<h4>About the author</h4>
<p>
    <a href="http://ggajos.com/about">Grzegorz Gajos</a>,
    Software Architect
    with international consulting and programming background. Co-founder of Open Tangerine
    Software House. Quality evangelist. An experienced entrepreneur, out of the box thinker and problem solver.
</p>

	<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'ggajos';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

	<div class="post-footer">
		<div class="column-1">
			
				<a href="http://ggajos.com/configuration-files"><< Older</a>
			
		</div>
		<div class="column-2"><a href="http://ggajos.com/ ">Home</a></div>
		<div class="column-3">
			
				<a href="http://ggajos.com/simple-windows-backup">Newer >></a>
			
		</div>
	</div>
</div>
 

        <footer>
        </footer>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <!-- Site js -->
        <script src="/assets/js/all.js"></script>
        <!-- Google analytics  -->
        <script type="text/javascript">

    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-30132359-4', 'auto');
    ga('send', 'pageview');

</script>
    </body>
</html>
