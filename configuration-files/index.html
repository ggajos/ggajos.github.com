<!DOCTYPE html>
<html lang="en-US">
    <head itemscope itemtype="http://schema.org/WebPage">
        <base href="http://ggajos.com/configuration-files"/>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="description" content="How to handle configuration files. How to make it scale when the team is growing.">
        <meta name="keywords" content="config files backup, configuration files sync, java properties location, java app environment, cloud app execution, app config maintenance" />
        <link rel="canonical" href="http://ggajos.com/configuration-files" />
        <link rel="alternate" type="application/rss+xml" title="RSS for ggajos.com" href="http://ggajos.com/rss.xml"/>
        <title>Configuration files stored in revision control system over external ones.</title>
        <!--twitter -->
        <meta name="twitter:site" content="@ggajos"/>
        <meta name="twitter:creator" content="@ggajos"/>
        <meta name="twitter:url" content="http://ggajos.com/configuration-files"/>
        <!-- facebook -->
        <meta property="article:author" content="https://www.facebook.com/grzegorz.gajos"/>
        <meta property="og:url" content="http://ggajos.com/configuration-files"/>
        <meta property="og:site_name" content="ggajos"/>
        <meta property="og:title" content="Configuration files stored in revision control system over external ones."/>
        <meta property="og:description" content="How to handle configuration files. How to make it scale when the team is growing."/>
        <meta property="og:type" content="article" />
        <meta property="og:locale" content="en_US" />
        <!-- itemprop -->
        <meta itemprop="name" content="Configuration files stored in revision control system over external ones." />
        <meta itemprop="author" content="Grzegorz Gajos" />
        <meta itemprop="breadcrumb" content="http://ggajos.com" />
        <meta itemprop="keywords" content="config files backup, configuration files sync, java properties location, java app environment, cloud app execution, app config maintenance" />
        <meta itemprop="description" content="How to handle configuration files. How to make it scale when the team is growing." />
		<!-- google -->
		<meta name="google-site-verification" content="Ls52KLW0k11NkXeBx89rhcLnXOfGbaDlNSCkGawXcM4" />
        <!-- script/css -->
        <link rel="stylesheet" type="text/css" href="/assets/css/main.css?">
        <script async src="/assets/js/modernizr.js"></script>
        <!--[if lt IE 9]> <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script> <![endif]-->
        <!--[if lt IE 9]> <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script> <![endif]-->
    </head>
    <body class="theme-base-01">
        <header class="main-header">
            <div class="wc-container">
                <h2><a href="/">Java Developer</a></h2>
                <ul>
	<li>
		by <a href="http://ggajos.com/about">Grzegorz Gajos</a> &middot;
	</li>
	<li>
		check <a href="http://ggajos.com/rss.xml">rss feed</a> &middot;
	</li>
	<li>
		see <a href="http://ggajos.com/blog">all posts</a> &middot;
	</li>
	<li>
		or <a href="http://ggajos.com/">home page</a>
	</li>
</ul>
<ul>
	<li>
		I won’t tell you that
		<a href="http://opentangerine.com" rel="nofollow">Open Tangerine</a>
		team is among the most ingenious and professional engineers.
	</li>
</ul>
            </div>
        </header>
        <div class="page-content wc-container">

	<div class="post">
		<h1>Configuration files stored in revision control system over external ones.</h1>
		<p class="post-meta">
            
                <span class="categories">
                    java, cloud, and configuration
                </span> |
            
            <span class="post-date">
                Nov 15, 2015
            </span> | Interesting? Share on
			<a href="https://twitter.com/share?url=http://ggajos.com/configuration-files&amp;text=Configuration files stored in revision control system over external ones. by @ggajos"
   title="Share on Twitter" class="share" rel="nofollow">Twitter</a>,
<a href="http://www.facebook.com/sharer/sharer.php?u=http://ggajos.com/configuration-files"
   title="Share on Facebook" class="share" rel="nofollow">Facebook</a>,
<a href="https://plus.google.com/share?url=http://ggajos.com/configuration-files"
   title="Share on Google+" class="share" rel="nofollow">Google+</a>,
<a href="https://www.linkedin.com/cws/share?url=http://ggajos.com/configuration-files"
   title="Share on LinkedIn" class="share" rel="nofollow">LinkedIn</a>
		</p>
		<p>Almost every application depends on the environment where is executed. Database URLs, storage paths, external services or some credentials and codes have to be somehow provided, depending on execution place. I would like to show you two approaches here and explain why the second one is better. </p>

<h2 id="configuration-files-stored-in-home-directory">Configuration files stored in home directory</h2>

<p>It is a tempting vision. You are creating a single configuration file in each server box. Each developer can create this file also on local box in order to override some configuration. Your application during runtime will look inside the config file located in the home directory and you can manage different variables for each machine. It should work, right? Yes, but you have to remember about:</p>

<ul>
  <li><code>backup</code> - Configuration is very important part of the application. In some cases, it is extremely hard to get config from the sky.</li>
  <li><code>sync</code> - In the case of config error you can quickly fix it on the remote machine and forget about it. If you are doing some kind of backup, you would need to execute it after that change. You might also want to propagate this change to other boxes.</li>
  <li><code>sharing</code> - When amount machines (developer and server ones) are growing, it can be difficult to have easy control over them,</li>
  <li><code>permissions</code> - The only person with server credentials will be able to update some configuration. This means that configuration needs to be maintained by the server administrator. Even if could be easily applied by the developer.</li>
  <li><code>history</code> - Every change will be lost. It might be really helpful to narrow down what changed in the history of the specific file. Especially during some bug research.</li>
  <li><code>cloud</code> - Some cloud providers are not giving you the option to store files in different directories. You would need to figure out something else or stick to the ones that give you this feature.</li>
</ul>

<h2 id="configuration-files-stored-as-part-of-revision-control-system">Configuration files stored as part of revision control system</h2>

<p>There is, however different way of doing this. You can store configuration file along with your source code:</p>

<div class="highlight"><pre><code class="language-batch" data-lang="batch">/src/config/config.properties
/src/config/dev/config.properties
/src/config/dev-john/config.properties
/src/config/dev-peter/config.properties
/src/config/prod/config.properties</code></pre></div>

<p>Then you can load your files using specific app environment variable:</p>

<div class="highlight"><pre><code class="language-batch" data-lang="batch">/src/config/config.properties
/src/config/{APP_ENV}/config.properties</code></pre></div>

<p>On target machine you would need to setup single environment variable only:</p>

<div class="highlight"><pre><code class="language-batch" data-lang="batch">set APP_ENV=dev</code></pre></div>

<h2 id="why-revision-control-system-is-the-much-better-approach">Why revision control system is the much better approach?</h2>

<p>Let’s try to compare points from above. How it is going to change when the configuration is stored in version control.</p>

<ul>
  <li><code>backup</code> - Source code repository does this for you.</li>
  <li><code>sync</code> - You can pull most up to date config from the repository or commit fix back.</li>
  <li><code>sharing</code> - Everybody who have access to the repository.</li>
  <li><code>permissions</code> - Every developer can edit this, it means that the person responsible for developing feature can prepare also proper configuration.</li>
  <li><code>history</code> - Thanks to source code repository you can track who added what and in what purpose.</li>
  <li><code>cloud</code> - Usually it’s easy to setup environment variable even if it is the very restricted environment.</li>
</ul>

		<hr/>
		<p>
			Like it? Share it on
			<a href="https://twitter.com/share?url=http://ggajos.com/configuration-files&amp;text=Configuration files stored in revision control system over external ones. by @ggajos"
   title="Share on Twitter" class="share" rel="nofollow">Twitter</a>,
<a href="http://www.facebook.com/sharer/sharer.php?u=http://ggajos.com/configuration-files"
   title="Share on Facebook" class="share" rel="nofollow">Facebook</a>,
<a href="https://plus.google.com/share?url=http://ggajos.com/configuration-files"
   title="Share on Google+" class="share" rel="nofollow">Google+</a>,
<a href="https://www.linkedin.com/cws/share?url=http://ggajos.com/configuration-files"
   title="Share on LinkedIn" class="share" rel="nofollow">LinkedIn</a>
		</p>
	</div>

	
	<div class="related">
		<h4>Related Posts</h4>
		<ul class="posts">
		    
		    <li>
			  <span>27 Sep 2016 &raquo;</span>
			  <a href="http://ggajos.com/how-hibernate-ruined-my-career">How Hibernate Almost Ruined My Career</a>
		    </li>
		    
		    <li>
			  <span>19 Sep 2016 &raquo;</span>
			  <a href="http://ggajos.com/sjug-why-hibernate">Silesia Java User Group, Seriously. Why Hibernate?</a>
		    </li>
		    
		    <li>
			  <span>14 May 2016 &raquo;</span>
			  <a href="http://ggajos.com/sjug-static-code-analysis">Silesia Java User Group, Static code analysis</a>
		    </li>
		    
		    <li>
			  <span>06 May 2016 &raquo;</span>
			  <a href="http://ggajos.com/ot-clean-final-version">ot-clean, Final version</a>
		    </li>
		    
		    <li>
			  <span>04 May 2016 &raquo;</span>
			  <a href="http://ggajos.com/ot-clean-tests-refactoring">ot-clean, Tests refactoring</a>
		    </li>
		    
		</ul>
	</div>
	

	<h4>About the author</h4>
<p>
    <a href="http://ggajos.com/about">Grzegorz Gajos</a>,
    Software Architect
    with international consulting and programming background. Co-founder of Open Tangerine
    Software House. Quality evangelist. An experienced entrepreneur, out of the box thinker and problem solver.
</p>

	<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'ggajos';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

	<div class="post-footer">
		<div class="column-1">
			
				<a href="http://ggajos.com/environment-variables-management"><< Older</a>
			
		</div>
		<div class="column-2"><a href="http://ggajos.com/ ">Home</a></div>
		<div class="column-3">
			
				<a href="http://ggajos.com/why-comments-in-code">Newer >></a>
			
		</div>
	</div>
</div>
 

        <footer>
        </footer>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <!-- Site js -->
        <script src="/assets/js/all.js"></script>
        <!-- Google analytics  -->
        <script type="text/javascript">

    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-30132359-4', 'auto');
    ga('send', 'pageview');

</script>
    </body>
</html>
